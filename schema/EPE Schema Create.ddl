create table LinkEdge (id integer generated by default as identity (start with 1), model_id integer not null, edge_index integer not null, owning_node_id integer not null, out_node_id integer not null, in_node_id integer not null, constraint pk_CompoundEdge primary key (id), constraint xak1compoundedge unique (model_id, edge_index));
create table CompoundNode (id integer generated by default as identity (start with 1), model_id integer not null, node_index integer not null, constraint pk_CompoundNode primary key (id), constraint xak1compoundnode unique (model_id, node_index));
create table Model (id integer generated by default as identity (start with 1), canvas_id integer not null, root_node_id integer, constraint pk_Model primary key (id), constraint xak1model unique (canvas_id));
create table LinkProperty (link_id integer not null, property_id integer not null, name varchar(128) not null, constraint pk_LinkProperty primary key (link_id, property_id), constraint Alter_Key39 unique (link_id, name));
create table BendPoint (id integer generated by default as identity (start with 1), link_id integer not null, index_pos integer not null, x_position integer not null, y_position integer not null, constraint pk_BendPoint primary key (id), constraint Alter_Key37 unique (link_id, index_pos));
create table LinkTerminusProperty (link_terminus_id integer not null, property_id integer not null, name varchar(128) not null, constraint pk_LinkTerminusProperty primary key (link_terminus_id, property_id), constraint Alter_Key34 unique (link_terminus_id, property_id), constraint Alter_Key33 unique (link_terminus_id, name), unique (name));
create table ShapeProperty (shape_id integer not null, property_id integer not null, name varchar(128) not null, constraint pk_ShapeProperty primary key (shape_id, property_id), constraint xax1shapeproperty unique (shape_id, name));
create table SubFolder (id integer not null, parent_folder_id integer not null, name varchar(128) not null, constraint pk_SubFolder primary key (id), constraint xak1subfolder unique (parent_folder_id, name));
create table RootFolder (id integer not null, owning_repository_id integer not null, constraint pk_RootFolder primary key (id), constraint xak1rootfolder unique (owning_repository_id));
create table ListValue (id integer generated by default as identity (start with 1), list_property_id integer not null, index_pos integer not null, string_representation varchar(4096) not null, constraint pk_ListValue primary key (id), constraint xak1listproperty unique (list_property_id, index_pos));
create table ListProperty (id integer not null, constraint pk_ListProperty primary key (id));
create table ObjectType (id integer generated by default as identity (start with 1), context_id integer not null, name varchar(128) not null, description varchar(2048) not null, constraint pk_ObjectType primary key (id), constraint xak1objecttype unique (context_id, name));
create table Context (id integer generated by default as identity (start with 1), global_id varchar(256) not null, name varchar(128) not null, description_ varchar(2048) not null, major_version integer not null, minor_version_ integer not null, patch_version integer not null, constraint pk_Context primary key (id), constraint Alter_Key14 unique (name, major_version, minor_version_, patch_version), unique (global_id), unique (name), unique (major_version), unique (minor_version_), unique (patch_version));
create table LinkEndDecorator (id integer generated by default as identity (start with 1), link_terminus_id integer not null, decorator_type smallint not null, width integer not null, height integer not null, constraint pk_LinkEndDecorator primary key (id), constraint xak1linkenddecorator unique (link_terminus_id));
create table LinkTerminusDecorator (id integer generated by default as identity (start with 1), link_terminus_id integer not null, shape_type smallint not null, fill_red integer not null, fill_green integer not null, fill_blue integer not null, line_red integer not null, line_green integer not null, line_blue integer not null, line_width integer not null, line_style integer not null, width integer not null, height integer not null, constraint pk_LinkTerminusDecorator primary key (id), constraint Alter_Key22 unique (link_terminus_id));
create table LinkTerminus (id integer generated by default as identity (start with 1), link_id integer not null, link_term_type smallint not null, offset_val smallint not null, constraint pk_LinkTerminus primary key (id), constraint xak1LinkTerminus unique (link_id, link_term_type));
create table NumberProperty (id integer not null, number_value decimal(30, 6) not null, constraint pk_NumberProperty primary key (id));
create table RichTextProperty (id integer not null, rich_text_value longvarchar not null, constraint pk_RichTextProperty primary key (id));
create table TextProperty (id integer not null, text_value varchar(4096) not null, constraint pk_TextProperty primary key (id));
create table Property (id integer generated by default as identity (start with 1), canvas_id integer not null, creation_serial integer not null, constraint pk_Property primary key (id), constraint xak1property unique (canvas_id, creation_serial));
create table LabelAttribute (id char(20) not null, canvas_id integer not null, creation_serial integer not null, displayed_property_id integer not null, is_displayed bit not null, background_red integer not null, background_green integer not null, background_blue integer not null, no_fill_set bit not null, x_position integer not null, y_position integer not null, width integer not null, height integer not null, label_node_id integer not null, constraint pk_Label primary key (id), constraint xak1label unique (canvas_id, creation_serial));
create table LinkAttribute (id integer generated by default as identity (start with 1), canvas_id integer not null, creation_serial integer not null, object_type_id integer not null, name varchar(128) not null, detailed_description longvarchar not null, description varchar(2048) not null, line_red integer not null, line_green integer not null, line_blue integer not null, line_style integer not null, line_width integer not null, router_type smallint not null, url varchar(2048) not null, edge_id integer not null, constraint pk_Link primary key (id), constraint xak1link unique (canvas_id, creation_serial));
create table ShapeAttribute (id integer generated by default as identity (start with 1), canvas_id integer not null, creation_serial integer not null, name varchar(128) not null, object_type_id integer not null, description varchar(2048) not null, detailed_description longvarchar not null, fill_red integer not null, fill_green integer not null, fill_blue integer not null, line_red integer not null, line_green integer not null, line_blue integer not null, line_style integer not null, line_width integer not null, padding integer not null, shape_type smallint not null, x_position integer not null, y_position integer not null, height integer not null, width integer not null, url varchar(2048) not null, shape_node_id integer not null, constraint pk_Shape primary key (id), constraint xak1shape unique (canvas_id, creation_serial));
create table Canvas (id integer generated by default as identity (start with 1), map_id integer not null, context_id integer not null, grid_x integer not null, grid_y integer not null, grid_enabled bit not null, snap_to_grid_enabled bit not null, background_red integer not null, background_green integer not null, background_blue integer not null, canvas_width integer not null, canvas_height integer not null, created date not null, last_modified date not null, constraint pk_Canvas primary key (id), constraint xak1canvas unique (map_id));
create table MapDiagram (id integer generated by default as identity (start with 1), repository_id integer not null, inode integer not null, folder_id integer not null, name varchar(128) not null, description varchar(2048) not null, constraint pk_MapDiagram primary key (id), constraint xak1mapdiagram unique (folder_id, name));
create table Folder (id integer generated by default as identity (start with 1), inode integer not null, repository_id integer not null, constraint pk_Folder primary key (id));
create table Repository (id integer generated by default as identity (start with 1), name varchar(128) not null, description varchar(2048) not null, build_num integer not null, constraint pk_Repository primary key (id), constraint Alter_Key1 unique (name, description), unique (name), unique (description));
create table RootObjectNode (id integer not null, referring_model_id integer not null, constraint xpkcompoundrootnode primary key (id));
create table ShapeNode (id integer not null, parent_node_id integer not null, constraint xpkcompoundchildnode primary key (id));
create table LabelNode (id integer not null, parent_node_id integer not null, primary key (id));
alter table RootFolder add constraint Relationship63 foreign key (owning_repository_id) references Repository;
alter table MapDiagram add constraint Relationship6 foreign key (folder_id) references Folder;
alter table RootFolder add constraint Relationship58 foreign key (id) references Folder;
alter table SubFolder add constraint Relationship59 foreign key (id) references Folder;
alter table SubFolder add constraint Relationship62 foreign key (parent_folder_id) references Folder;
alter table Canvas add constraint Relationship7 foreign key (map_id) references MapDiagram;
alter table ShapeAttribute add constraint Relationship101 foreign key (canvas_id) references Canvas;
alter table LinkAttribute add constraint Relationship99 foreign key (canvas_id) references Canvas;
alter table LabelAttribute add constraint Relationship100 foreign key (canvas_id) references Canvas;
alter table Property add constraint Relationship77 foreign key (canvas_id) references Canvas;
alter table Model add constraint Relationship102 foreign key (canvas_id) references Canvas;
alter table ShapeProperty add constraint Relationship92 foreign key (shape_id) references ShapeAttribute;
alter table BendPoint add constraint Relationship79 foreign key (link_id) references LinkAttribute;
alter table LinkProperty add constraint Relationship94 foreign key (link_id) references LinkAttribute;
alter table LabelAttribute add constraint Relationship49 foreign key (displayed_property_id) references Property;
alter table TextProperty add constraint Relationship23 foreign key (id) references Property;
alter table RichTextProperty add constraint Relationship24 foreign key (id) references Property;
alter table NumberProperty add constraint Relationship29 foreign key (id) references Property;
alter table ListProperty add constraint Relationship52 foreign key (id) references Property;
alter table ShapeProperty add constraint Relationship74 foreign key (property_id) references Property;
alter table LinkTerminusProperty add constraint Relationship78 foreign key (property_id) references Property;
alter table LinkProperty add constraint Relationship93 foreign key (property_id) references Property;
alter table LinkTerminusDecorator add constraint Relationship31 foreign key (link_terminus_id) references LinkTerminus;
alter table LinkEndDecorator add constraint Relationship32 foreign key (link_terminus_id) references LinkTerminus;
alter table LinkTerminusProperty add constraint Relationship80 foreign key (link_terminus_id) references LinkTerminus;
alter table Canvas add constraint Relationship50 foreign key (context_id) references Context;
alter table ObjectType add constraint Relationship33 foreign key (context_id) references Context;
alter table ShapeAttribute add constraint Relationship89 foreign key (object_type_id) references ObjectType;
alter table LinkAttribute add constraint Relationship91 foreign key (object_type_id) references ObjectType;
alter table ListValue add constraint Relationship54 foreign key (list_property_id) references ListProperty;
alter table CompoundNode add constraint Relationship104 foreign key (model_id) references Model;
alter table LinkEdge add constraint Relationship108 foreign key (model_id) references Model;
alter table Model add constraint Relationship113 foreign key (root_node_id) references CompoundNode;
alter table LinkEdge add constraint Relationship3 foreign key (owning_node_id) references CompoundNode;
alter table RootObjectNode add constraint Relationship4 foreign key (id) references CompoundNode;
alter table ShapeNode add constraint Relationship5 foreign key (id) references CompoundNode;
alter table ShapeNode add constraint Relationship8 foreign key (parent_node_id) references CompoundNode;
alter table RootObjectNode add constraint FKRootObject877002 foreign key (referring_model_id) references Model;
alter table Folder add constraint Relationship2 foreign key (repository_id) references Repository;
alter table MapDiagram add constraint FKMapDiagram716936 foreign key (repository_id) references Repository;
alter table LabelNode add constraint FKLabelNode847251 foreign key (id) references CompoundNode;
alter table LabelNode add constraint FKLabelNode643764 foreign key (parent_node_id) references CompoundNode;
alter table LinkAttribute add constraint Relationship131 foreign key (edge_id) references LinkEdge;
alter table LabelAttribute add constraint Relationship114 foreign key (label_node_id) references LabelNode;
alter table ShapeAttribute add constraint FKShapeAttri988170 foreign key (shape_node_id) references ShapeNode;
alter table LinkTerminus add constraint FKLinkTermin435137 foreign key (link_id) references LinkAttribute;
alter table LinkEdge add constraint Relationship120 foreign key (out_node_id) references CompoundNode;
alter table LinkEdge add constraint Relationship121 foreign key (in_node_id) references CompoundNode;

