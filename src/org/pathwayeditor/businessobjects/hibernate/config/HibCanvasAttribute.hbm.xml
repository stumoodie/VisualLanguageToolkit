<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class
		name="org.pathwayeditor.businessobjects.hibernate.pojos.HibCanvasAttribute"
		table="CanvasAttribute" abstract="true" lazy="false">
		<id name="id" type="java.lang.Long">
			<column name="id" />
			<generator class="native" />
		</id>

		<many-to-one name="canvas"
			class="org.pathwayeditor.businessobjects.hibernate.pojos.HibCanvas" lazy="false" >
			<column name="canvas_id" not-null="false" />
		</many-to-one>
		<property name="creationSerial" type="int" access="property">
			<column name="creation_serial" not-null="true" />
		</property>

		<joined-subclass
			name="org.pathwayeditor.businessobjects.hibernate.pojos.HibRootAttribute"
			table="RootAttribute" lazy="false" >
			<key>
				<column name="id" not-null="true" unique="true" />
			</key>
			<many-to-one name="hibObjectType"
				class="org.pathwayeditor.businessobjects.hibernate.pojos.HibObjectType"
				cascade="none" lazy="false">
				<column name="object_type_id" not-null="true" />
			</many-to-one>
			<many-to-one name="currentRootNode"
				class="org.pathwayeditor.businessobjects.hibernate.pojos.HibRootNode"
				cascade="none" lazy="false" >
				<column name="current_node_id" not-null="false" />
			</many-to-one>
		</joined-subclass>

		<joined-subclass
			name="org.pathwayeditor.businessobjects.hibernate.pojos.HibLabelAttribute"
			table="LabelAttribute" lazy="false">
			<key>
				<column name="id" not-null="true" unique="true" />
			</key>
			<one-to-one name="property"
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibProperty" cascade="none" lazy="false" property-ref="displayedLabel" />
			<many-to-one name="currentLabelNode"
				class="org.pathwayeditor.businessobjects.hibernate.pojos.HibLabelNode"
				cascade="none" lazy="false" >
				<column name="current_node_id" not-null="false" />
			</many-to-one>
			<property name="XPosition" type="double" access="property" >
				<column name="x_position" not-null="true" />
			</property>
			<property name="YPosition" type="double" access="property" >
				<column name="y_position" not-null="true" />
			</property>
			<property name="width" type="double" access="property" >
				<column name="width" not-null="true" />
			</property>
			<property name="height" type="double" access="property" >
				<column name="height" not-null="true" />
			</property>
			<property name="backgroundRed" type="int" access="property">
				<column name="background_red" not-null="true" />
			</property>
			<property name="backgroundGreen" type="int" access="property">
				<column name="background_green" not-null="true" />
			</property>
			<property name="backgroundBlue" type="int" access="property">
				<column name="background_blue" not-null="true" />
			</property>
			<property name="foregroundRed" type="int" access="property">
				<column name="foreground_red" not-null="true" />
			</property>
			<property name="foregroundGreen" type="int" access="property">
				<column name="foreground_green" not-null="true" />
			</property>
			<property name="foregroundBlue" type="int" access="property">
				<column name="foreground_blue" not-null="true" />
			</property>
			<property name="noBorder" type="boolean" access="property">
				<column name="no_border" not-null="true"/>
			</property>
			<property name="noFill" type="boolean" access="property">
				<column name="no_fill" not-null="true"/>
			</property>
			<property name="lineStyle" type="LineStyleType">
				<column name="line_style" not-null="true" />
			</property>
			<property name="lineWidth" type="double">
				<column name="line_width" not-null="true" />
			</property>
		</joined-subclass>

		<joined-subclass
			name="org.pathwayeditor.businessobjects.hibernate.pojos.HibAnnotatedCanvasAttribute"
			table="AnnotatedCanvasAttribute" abstract="true">
			<key>
				<column name="id" not-null="true" unique="true" />
			</key>
			<set name="properties" table="CanvasAttribute" cascade="all"
				inverse="true" lazy="false">
				<key>
					<column name="canvas_attribute_id" not-null="true" />
				</key>
				<one-to-many
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibProperty" />
			</set>

			<joined-subclass
				name="org.pathwayeditor.businessobjects.hibernate.pojos.HibLinkAttribute"
				table="LinkAttribute" lazy="false">
				<key>
					<column name="id" not-null="true" unique="true" />
				</key>
				<many-to-one name="hibObjectType"
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibObjectType"
					cascade="none" lazy="false" >
					<column name="object_type_id" not-null="true" />
				</many-to-one>
				<many-to-one name="currentEdge"
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibLinkEdge"
					cascade="none" lazy="false" >
					<column name="current_edge_id" not-null="false" />
				</many-to-one>
				<property name="lineRed" type="int">
					<column name="line_red" not-null="true" />
				</property>
				<property name="lineGreen" type="int">
					<column name="line_green" not-null="true" />
				</property>
				<property name="lineBlue" type="int">
					<column name="line_blue" not-null="true" />
				</property>
				<property name="lineStyle" type="LineStyleType">
					<column name="line_style" not-null="true" />
				</property>
				<property name="lineWidth" type="double">
					<column name="line_width" not-null="true" />
				</property>
				<property name="lastBendPointSerial" type="int">
					<column name="last_bendpoint_serial" not-null="true" />
				</property>
				<list name="bendPoints" cascade="all,delete-orphan" lazy="false">
					<key column="link_attribute_id" not-null="true" />
					<list-index>
						<column name="index_pos" not-null="true" />
					</list-index>
					<one-to-many
						class="org.pathwayeditor.businessobjects.hibernate.pojos.HibBendPoint" />
				</list>

				<list name="linkTermini" cascade="all,delete-orphan" inverse="true" lazy="false">
					<key>
						<column name="owning_link_id" not-null="true" />
					</key>
					<list-index>
						<column name="link_term_type" not-null="true" />
					</list-index>
					<one-to-many
						class="org.pathwayeditor.businessobjects.hibernate.pojos.HibLinkTerminus" />
				</list>
			</joined-subclass>

			<joined-subclass
				name="org.pathwayeditor.businessobjects.hibernate.pojos.HibShapeAttribute"
				table="ShapeAttribute" lazy="false" >
				<key>
					<column name="id" not-null="true" unique="true" />
				</key>
				<many-to-one name="currentShapeNode"
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibShapeNode"
					cascade="none" lazy="false" >
					<column name="current_node_id" not-null="false" />
				</many-to-one>
				<property name="XPosition" type="double" access="property">
					<column name="x_position" not-null="true" />
				</property>
				<property name="YPosition" type="double" access="property">
					<column name="y_position" not-null="true" />
				</property>
				<property name="width" type="double" access="property">
					<column name="width" not-null="true" />
				</property>
				<property name="height" type="double" access="property">
					<column name="height" not-null="true" />
				</property>
				<many-to-one name="hibObjectType"
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibObjectType"
					cascade="none" lazy="false" >
					<column name="object_type_id" not-null="true" />
				</many-to-one>
				<property name="fillRed" type="int" access="property">
					<column name="fill_red" not-null="true" />
				</property>
				<property name="fillGreen" type="int" access="property">
					<column name="fill_green" not-null="true" />
				</property>
				<property name="fillBlue" type="int" access="property">
					<column name="fill_blue" not-null="true" />
				</property>
				<property name="lineRed" type="int">
					<column name="line_red" not-null="true" />
				</property>
				<property name="lineGreen" type="int" access="property">
					<column name="line_green" not-null="true" />
				</property>
				<property name="lineBlue" type="int" access="property">
					<column name="line_blue" not-null="true" />
				</property>
				<property name="lineStyle" type="LineStyleType" access="property">
					<column name="line_style" not-null="true" />
				</property>
				<property name="lineWidth" type="double" access="property">
					<column name="line_width" not-null="true" />
				</property>
				<property name="shapeDefinition" type="string" access="property">
					<column name="shape_defn" length="4096" not-null="true" />
				</property>
			</joined-subclass>

			<joined-subclass
				name="org.pathwayeditor.businessobjects.hibernate.pojos.HibLinkTerminus"
				table="LinkTerminus" lazy="false" >
				<key>
					<column name="id" not-null="true" unique="true" />
				</key>
				<many-to-one name="owningLink"
					class="org.pathwayeditor.businessobjects.hibernate.pojos.HibLinkAttribute" lazy="false" >
					<column name="owning_link_id" not-null="false" />
				</many-to-one>
				<property name="linkTermType" type="LinkTermType">
					<column name="link_term_type" not-null="true" />
				</property>
				<property name="gap" type="double">
					<column name="offset_val" not-null="true" />
				</property>
				<property name="endDecoratorType" type="ArrowHeadStyleType">
					<column name="end_dec_type" not-null="true" />
				</property>
				<property name="endDecWidth" type="double">
					<column name="end_dec_width" not-null="true" />
				</property>
				<property name="endDecHeight" type="double">
					<column name="end_dec_height" not-null="true" />
				</property>
				<property name="XPosition" type="double" access="property">
					<column name="x_position" not-null="true" />
				</property>
				<property name="YPosition" type="double" access="property">
					<column name="y_position" not-null="true" />
				</property>
			</joined-subclass>

		</joined-subclass>


	</class>
</hibernate-mapping>
