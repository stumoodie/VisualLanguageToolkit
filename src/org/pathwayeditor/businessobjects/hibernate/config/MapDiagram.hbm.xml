<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated 04-May-2008 01:27:28 by Hibernate Tools 3.2.1.GA -->
<hibernate-mapping>
    <class name="org.pathwayeditor.businessobjects.hibernate.pojos.MapDiagram" table="mapdiagram">
    	<meta attribute="class-code">
	private static final long serialVersionUID = -7566323206185334088L;
	
    public MapDiagram(Folder newParent, MapDiagram other){
    	this.folder = newParent;
    	this.name = other.name;
    	this.description = other.description;
    }
   
	public void changeFolder(Folder newFolder){
	   Folder oldFolder = this.folder;
	   this.folder = newFolder;
	   if(oldFolder != null){
		   oldFolder.getMapDiagrams().remove(this);
	   }
	   if(this.folder != null){
		   this.folder.getMapDiagrams().add(this);
	   }
   }
    	</meta>
        <id name="id" type="java.lang.Long">
            <column name="id" />
            <generator class="native" />
        </id>
        <properties name="xak1mapdiagram" unique="true">
        	<many-to-one name="folder" class="org.pathwayeditor.businessobjects.hibernate.pojos.Folder" fetch="select">
				<meta attribute="set-scope"></meta>
	   	    	<meta attribute="use-in-equals">true</meta>
            	<column name="folder_id" not-null="true" />
        	</many-to-one>
        	<property name="name" type="string">
	   	    	<meta attribute="use-in-equals">true</meta>
            	<column name="name" length="128" not-null="true" />
        	</property>
        </properties>
        <property name="description" type="string">
            <column name="description" length="2048" not-null="true" />
        </property>
    </class>
</hibernate-mapping>
