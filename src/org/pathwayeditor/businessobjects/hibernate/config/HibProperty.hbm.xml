<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    <class name="org.pathwayeditor.businessobjects.hibernate.pojos.HibProperty" table="property" lazy="true">
        <id name="id" type="java.lang.Long">
            <column name="id" />
            <generator class="native" />
        </id>
 		<many-to-one name="owner" class="org.pathwayeditor.businessobjects.hibernate.pojos.HibAnnotatedCanvasAttribute" lazy="false">
           	<column name="canvas_attribute_id" not-null="true" />
        </many-to-one>
        <property name="name" type="string">
	        <column name="name" not-null="true" />
    	</property>
        <property name="displayName" type="string">
	        <column name="display_name" not-null="true" />
    	</property>
        <property name="uri" type="string">
	        <column name="uri" not-null="true" />
    	</property>
		<many-to-one name="displayedLabel" class="org.pathwayeditor.businessobjects.hibernate.pojos.HibLabelAttribute" cascade="none" lazy="false">
			<column name="displayed_label_id" not-null="false" />
		</many-to-one>

    	<joined-subclass name="org.pathwayeditor.businessobjects.hibernate.pojos.HibTextProperty" table="textproperty" lazy="false">
    		<key>
    			<column name="id" not-null="true" unique="true"/>
    		</key>
	        <property name="value" type="string">
    	        <column name="text_value" length="4096" not-null="false" />
        	</property>
    	</joined-subclass>

    	<joined-subclass name="org.pathwayeditor.businessobjects.hibernate.pojos.HibRichTextProperty" table="richtextproperty" lazy="false">
    		<key>
    			<column name="id" not-null="true" unique="true"/>
    		</key>
	        <property name="value" type="text">
    	        <column name="rich_text_value" not-null="false" />
        	</property>
    	</joined-subclass>

    	<joined-subclass name="org.pathwayeditor.businessobjects.hibernate.pojos.HibNumberProperty" table="numberproperty" lazy="false">
    		<key>
    			<column name="id" not-null="true" unique="true"/>
    		</key>
	        <property name="value" type="big_decimal">
    	        <column name="number_value" precision="30" scale="6" not-null="false" />
        	</property>
    	</joined-subclass>

    	<joined-subclass name="org.pathwayeditor.businessobjects.hibernate.pojos.HibIntegerProperty" table="integerproperty" lazy="false">
    		<key>
    			<column name="id" not-null="true" unique="true"/>
    		</key>
	        <property name="value" type="int">
    	        <column name="integer_value" not-null="false" />
        	</property>
    	</joined-subclass>

    	<joined-subclass name="org.pathwayeditor.businessobjects.hibernate.pojos.HibBooleanProperty" table="booleanproperty" lazy="false">
    		<key>
    			<column name="id" not-null="true" unique="true"/>
    		</key>
	        <property name="value" type="int">
    	        <column name="boolean_value" not-null="false" />
        	</property>
    	</joined-subclass>

    	<joined-subclass name="org.pathwayeditor.businessobjects.hibernate.pojos.HibListProperty" table="listproperty" lazy="false">
    		<key>
    			<column name="id" not-null="true" unique="true"/>
    		</key>
    		<list name="value" table="listvalue" fetch="join" lazy="false">
    			<key>
    				<column name="list_property_id" not-null="true"/>
    			</key>
    			<list-index>
    				<column name="index_pos" not-null="true"/>
    			</list-index>
    			<element type="string">
    				<column name="string_representation" length="4096" not-null="true"/>
    			</element>
    		</list>
    	</joined-subclass>

    </class>
</hibernate-mapping>
